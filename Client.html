<!DOCTYPE html>
<html>

<head>
    <script src="html2canvas.min.js"></script>
    <script src="Client.js"></script>
    <!-- <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script> -->
    <script src="https://d3js.org/d3.v7.js"></script>
    <script src="Pairwise.js"></script>
    <script src="Stat.js"></script>
    <script src="Anomaly.js"></script>
    <link href="tailwind.css" rel="stylesheet">
    <link href="tabs.css" rel="stylesheet">
    <link href="chart.css" rel="stylesheet">
</head>

<body onload='init(); goto1();'>

    <body>
          <div class=" h-16 w-full fixed bg-[#ADD8E6] flex flex-row flex-wrap overflow-x-auto sid" id="sidebar">

          </div>
        <nav class="bg-gray-800 h-16 flex items-center top-16 relative">
            <div class="mx-4 space-x-4 flex items-baseline">
                <button class="btn-top" onclick="goto1()" id='TPC'>Two Parameter Chart</button>
                <button class="btn-top" onclick="goto2()" id='DTRC'>DTR Chart</button>
                <button class="btn-top" onclick="goto3()" id='TS'>Time Series</button>
                <button class="btn-top" onclick="goto4()" id='PAIR'>Pairwise Plots</button>
                <button class="btn-top" onclick="goto5()" id='STAT'>Statistics</button>
                <button class="btn-top" onclick="goto6()" id='ONED'>1-Dimensional Graph</button>
                <button class="btn-top" onclick="goto7()" id='ANON'>Anomalies</button>
            </div>
        </nav>
        <div class="mx-4">

            <div id="">
                <header class="flex flex-nowrap flex-row items-stretch space-x-2 my-2 h-6 relative top-2">
                    <input type="text" placeholder="Select a flight" class="rounded-sm blue-trim ml-28" id='file-select' onkeyup="filterFunction()" onclick = "displayFlightOptions(event)">
                        <div id = "dro" class = "dropdown-content top-2" >

                        </div>

                  </input>
                    <button class="rounded-sm blue-trim" id='time_series_select' onclick='drop()' hidden>Select Parameters</button>
                    <span id="dtr-specific" hidden>
                        <button class="h-full" id="ptile-opts-btn" onclick="ptile_opts_btn_f(this)">
                            <img class="h-full" src="gear.png">
                        </button>
                        <div id="ptile-opts" class="bg-orange-300 border-2 border-orange-500 px-2 w-fit z-10 absolute" hidden>
                            <label>10<sup>th</sup> percentile
                                <input class="ptile-opt" type="checkbox" value="10">
                            </label><br>
                            <label>50<sup>th</sup> percentile
                                <input class="ptile-opt" type="checkbox" value="50">
                            </label><br>
                            <label>90<sup>th</sup> percentile
                                <input class="ptile-opt" type="checkbox" value="90">
                            </label><br>
                        </div>
                    </span>
                    <script>
                        function ptile_opts_btn_f(n) {
                            // let box = document.evaluate('div', n.parentNode, null, XPathResult.ANY_TYPE, null).iterateNext();
                            let box = document.getElementById('ptile-opts');
                            box.hidden = false;
                        }
                    </script>
                    <select class="rounded-sm blue-trim" id='parameter-1'>
                        Parameter 1
                    </select>
                    <select class="rounded-sm blue-trim" id='parameter-2'>
                        Parameter 2
                    </select>
                    <button class="bg-blue-500 text-gray-50 rounded-sm px-2" id='Refresh'
                        onclick='refresh_chart()' hidden='false'>Graph</button>
                    <button id='refresh' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                        onclick='refresh_chart_tab()' hidden='false'>Graph in new tab</button>
                    <button id="add-button" class="bg-green-400 text-gray-50 rounded-sm px-2" id='refresh'
                        onclick='time_series(false)' hidden>Add</button>
                    <button id='DISPLAY_STATISTICS' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                        onclick='goto5(); s_refresh_chart_tab();' hidden>Display Statistics</button>
                    <button id='DISPLAY_STATISTICS_NORMAL' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                            onclick='Statistics()' hidden>Display Statistics</button>
                    <button id='TIME_SERIES_TO_DTR' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                            onclick='dtr_chart(true)' hidden>Display DTR</button>
                    <button id='DISPLAY_STATISTICS_NORMAL_NEW_TAB' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                                onclick='s_refresh_chart_tab()' hidden>Display Statistics in new tab</button>
                    <button class="bg-blue-500 text-gray-50 rounded-sm px-2" id='DownAnonJson'
                                onclick='DownJson()' hidden>Download Anomalies.json</button>
                    <button class="bg-blue-500 text-gray-50 rounded-sm px-2" id='DownAnonCSV'
                                onclick='DownCSV()' hidden>Download Anomalies.csv</button>
                    <button class="bg-blue-500 text-gray-50 rounded-sm px-2" id='UpAnon'
                                onclick='UploadAnon()' hidden>Upload Anomalies</button>


                </header>
                <main>
                    <div id='time_series_options'
                        class="h-40 border-2 border-solid border-black overflow-scroll absolute z-10 bg-[#ADD8E6] ml-28 top-16 relative w-2"
                        hidden>
                    </div>

                    <div id='test-chart' class="w-fit h-[800px] ml-28 relative top-2"></div>
                   </div>
                </main>
            </div>
            <div>

            </div>
        </div>
    </body>

</html>
