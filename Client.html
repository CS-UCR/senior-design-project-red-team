<!DOCTYPE html>
<html>

<head>
    <script src="Client.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script>
    <script src="https://d3js.org/d3.v5.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3-array@3"></script>
    <!-- <script src="Plotly.js"></script> -->
    <script  src="Pairwise.js"></script>
    <script  src="Stat.js"></script>
    <link href="tailwind.css" rel="stylesheet">
    <link href="tabs.css" rel="stylesheet">
    <link rel="stylesheet" href="form_styles.css">
</head>

<body onload='init(); goto1();'>

    <body>
        <nav class="bg-gray-800 h-16 flex items-center">
            <div class="mx-4 space-x-4 flex items-baseline">
                <button class="btn-top" onclick="goto1()" id='TPC'>Two Parameter Chart</button>
                <button class="btn-top" onclick="goto2()" id='DTRC'>DTR Chart</button>
                <button class="btn-top" onclick="goto3()" id='TS'>Time Series</button>
                <button class="btn-top" onclick="goto4()" id='PAIR'>Pairwise Plots</button>
                <button class="btn-top" onclick="goto5()" id='STAT'>Satsitics</button>
            </div>
        </nav>
        <div class="mx-4">
            <div class="w-24 fixed z-10 bg-[#ADD8E6] overflow-x-hidden py-2" id="sidebar">

            </div>
            <div id="">
                <header class="flex flex-nowrap flex-row items-stretch space-x-2 my-2 h-6">
                    <select class="rounded-sm blue-trim ml-28" id='file-select'>Select a flight</select>
                    <button class="rounded-sm blue-trim" id='time_series_select' onclick='drop()' hidden>V</button>
                    <span id="dtr-specific" hidden>
                        <button class="h-full" id="ptile-opts-btn" onclick="ptile_opts_btn_f(this)">
                            <img class="h-full" src="gear.png">
                        </button>
                        <div id="ptile-opts" class="bg-orange-300 border-2 border-orange-500 px-2 w-fit z-10 absolute" hidden>
                            <input class="ptile-opt" type="checkbox" id="ptile-10" value="10">
                            <label for="ptile-10">10<sup>th</sup> percentile</label><br>
                            <input class="ptile-opt" type="checkbox" id="ptile-50" value="50">
                            <label for="ptile-50">50<sup>th</sup> percentile</label><br>
                            <input class="ptile-opt" type="checkbox" id="ptile-90" value="90">
                            <label for="ptile-90">90<sup>th</sup> percentile</label><br>
                        </div>
                    </span>
                    <script>
                        function ptile_opts_btn_f(n) {
                            // let box = document.evaluate('div', n.parentNode, null, XPathResult.ANY_TYPE, null).iterateNext();
                            let box = document.getElementById('ptile-opts');
                            box.hidden = !box.hidden;
                        }
                    </script>
                    <select class="rounded-sm blue-trim" id='parameter-1'>Parameter
                        1</select>
                    <select
                        class="rounded-sm blue-trim"
                        id='parameter-2'>Parameter 2</select>
                    <button class="bg-blue-500 text-gray-50 rounded-sm px-2" id='Refresh'
                        onclick='refresh_chart()' hidden='false'>Graph</button>
                    <button id='refresh' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                        onclick='refresh_chart_tab()' hidden='false'>Graph in new tab</button>
                    <button id="add-button" class="bg-green-400 text-gray-50 rounded-sm px-2" id='refresh'
                        onclick='time_series(false)' hidden>Add</button>
                    <button id='DISPLAY_SATSTICS' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                        onclick='goto5(); s_refresh_chart_tab();' hidden>Display Satsitics</button>
                    <button id='DISPLAY_SATSTICS_NORMAL' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                            onclick='Satsitics()' hidden>Display Satsitics</button>
                    <button id='DISPLAY_SATSTICS_NORMAL_NEW_TAB' class="bg-blue-500 text-gray-50 rounded-sm px-2"
                                onclick='s_refresh_chart_tab()' hidden>Display Satsitics in new tab</button>

                </header>
                <main>
                    <div id='time_series_options'
                        class="h-40 border-2 border-solid border-black overflow-scroll absolute z-10 bg-[#ADD8E6] ml-28"
                        hidden>
                    </div>

                    <div id='test-chart' class="w-fit h-[800px] ml-28"></div>
                    <button class="open-button" onclick="openForm()" id = 'log-id'> Save Anomaly </button>
                   <div class="form-popup" id = 'logForm' >
                       <form  class="form-container">
                           <h1>Log Info</h1>

                           <label for="flight">
                               <b>Flight</b>
                           </label>
                           <input type="text" name="flight-select"  id="fid" value="" >
                           <!-- <select name="flight-select" aria-placeholder="Select Flight" id="fid" required></select> -->

                           <label for="graph">
                               <b>Graph</b>
                           </label>
                           <input type="text" name="graph-select" id="gid" value="" >
                           <!-- <select name="graph-select" aria-placeholder="Select Graph" id="gid" class = "py-16"required></select> -->

                           <label for="class-anomaly">
                               <b>Class of Anomaly</b>
                               <!-- <button id = 't-btn'>Set</button> -->
                           </label>
                           <!-- <input type="text" name="class-anomaly" id="caid"  > -->
                           <!-- <button id = 't-btn'>Set</button> -->

                           <select name="class-anomaly" aria-placeholder="Select Class of Anomaly" id="class-id" onchange="type_Anomally()" required>
                               <option value='Flap Slate'>Flap Slate</option>
                               <option value='Path High'>Path High</option>
                               <option value='Speed High'>Speed High</option>
                           </select>
                           <input type="text" id = 'demo'>

                           <label for="param"  >
                               <b>Parameters</b>
                            </label>

                            <div name="class-param" aria-placeholder="Select Parameters" id="param-id"  >
                            </div>
                            <select name="param-select" id="p-pid" aria-placeholder="Select Parameters" onchange="type_Parameter()">
                           </select>
                            <input type="text" name="param-select" id="pid" value="" >
                            <input type="text" name="param-select-2" id="pid2" value="" >
                           <!-- <select name="param-select" id="o-pid" aria-placeholder="Select Parameters" onchange="parameter_Selection()"></select> -->

                           <button type="button" class="btn" id = 'save_btn'> Save </button>
                           <button type="button" class="btn cancel" onclick="closeForm()"> Close</button>
                       </form>
                   </div>
                </main>
            </div>
            <div>

            </div>
        </div>
    </body>

</html>
